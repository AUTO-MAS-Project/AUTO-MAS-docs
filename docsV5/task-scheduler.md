# 任务管理

## 调度队列

**调度队列** 是 AUTO-MAS 组织各脚本任务的模块，它能设定 **多个脚本** 的运行顺序，配置启动软件时自动运行任务与定时自动运行任务。

::: warning 温馨提醒
调度队列功能为脚本串联运行也就是完成一个脚本后才会运行下一个脚本，

如果出现单个队列脚本并联运行的时候请检查通用脚本设置

同一队列的时间设置不同启动时间并不是和脚本一一对应的启动时间，

运行队列会同时运行该队列的所有脚本。

如果确定要使用，请仔细并认真阅读本文档后再进行提问。
:::

![scheduler](/docsV5/img/advanced-features/scheduler.png)

### 用法

1. 点击右上角的新建队列，创造一个新队列。
2. 根据你的需求，选择打开 **启动时运行**、**定时运行**。 

::: tip 小技巧
你可以将 AUTO-MAS 设为开机启动，并在调度队列勾选启动时运行，这样在你启动电脑时可以无感代理模拟器的脚本（如 MAA）。

如果你有一台永不停歇的核动力电脑，你可以设定定时运行，AUTO-MAS 会在你选择的时间进行自动代理。

如果你有特殊的上号需求（例如 MAA 自定义基建），你可以在 MAA 的自定义基建生效前一段时间自动启动 MAA，让 MAA 执行基建切换。
:::

3. 点击添加定时，设定你需要运行脚本的时间，设置此项时 **别忘了将定时运行状态改为启用**
4. 添加任务，此处的 **任务** 为 **脚本管理** 内已经配置好的脚本任务，若没有可选的任务，请查阅 [脚本配置](/docsV5/script-guide/__index)


## 自动代理策略

以下是 AUTO-MAS 的 **自动代理** 相关策略，了解这些信息有助于您理解 AUTO-MAS 的行为，以便您定制自己的调度方案

#### 用户配置说明

以下为 **自动代理** 模式下，AUTO-MAS 的配置策略。

1. 用户配置页展示的配置项优先生效。
2. **剿灭** 任务中，仅开启 **开始唤醒**、**刷理智** 任务，**刷理智** 中仅进行 **剿灭模式** 关卡代理；**日常** 任务中，开启 **任务配置** 中启用的任务。
3. **定时执行** 保持关闭，**任务完成后行为**、**启动 MAA 后行为**、**MAA 最小化相关设置**、**更新相关设置** 按实际配置与执行情况自动调整。
4. **简洁** 配置模式下其他配置沿用 **MAA 全局设置**；**详细** 配置模式下其他配置沿用 **用户具体配置**。

#### 调度策略说明

以下为 **自动代理** 模式下，AUTO-MAS 的任务调度策略。

- 每个 **用户** 包含 **剿灭任务**、**日常任务** 两个子任务。简洁模式下 **日常任务** 默认开启。软件不检查用户是否存在同时运行情况。调度顺序：**剿灭 > 日常**。*此条仅适用于 MAA 脚本*
- 每个 **脚本实例** 包含若干用户。一个 **脚本实例任务** 即为其 **下属用户** 所有任务的总和。同一 **脚本实例** 无法被重复启动，若已在运行，新 **脚本实例任务** 将被跳过。调度顺序：**用户序号升序**。
- 每个 **调度队列** 包含若干 **脚本实例任务**。一个 **调度队列任务** 即为其 **任务队列** 中所有 **脚本实例任务** 的总和。同一 **调度队列** 可以被重复启动。调度顺序：**任务实例序号升序**。
- 每个 **调度台** 可以运行并展示一个 **调度队列任务**，可以通过创建多个 **调度台** 来实现多开。

## 人工排查

**人工排查** 是用于检查用户代理情况的模式，可以依次排查各用户代理情况，并记录排查结果。

::: info 帮帮我，开发者先生

目前只支持MAA，未来可期

:::

- 选择 **人工排查模式**，点击 **开始任务**。
- 软件将启动 MAA，依次登录各用户账号。
- **完成 PRTS 登录后**，人工检查代理情况，并手动确认未执行的任务。
- 结束排查后，系统会记录结果至 **用户管理页的状态信息栏目**。